<div class="row">
    <div class="col-md-12">
        <div class="page-header">
            <h1>Добавяне на училище</h1>
        </div>
    </div>
</div>
<div class="row"  ng-controller="SchoolsCtrl">
    <div class="col-md-7 col-md-offset-2">
        <div class="well">
        <form name="register" class="form-horizontal" novalidate>
            <fieldset>


                    <div class="panel panel-default">
                        <div class="panel-body">
                            <p><span class="label label-warning">ВАЖНО!</span>
                            <strong>Преди да регистрирате учлище проверете дали то не е регистрирано вече!</strong></p>
                            <p>Списък на всички регистрирани училища по области:</p>

                            <label for="select" class="col-lg-2 control-label">Област</label>
                            <div class="col-lg-10">
                                <select class="form-control" ng-model="region" ng-options="region for region in regions">
                                    <option value="">Изберете област</option>
                                </select>
                            </div>
                        </div>

                        <ul class="list-group" ng-show="region">
                            <li class="list-group-item">
                                <h4>Регистрирани училища в област {{region}}:</h4>
                            </li>
                            <li class="list-group-item" ng-repeat="registeredSchool in registeredSchools | filter: region">
                               <strong> {{registeredSchool.abbreviation}} <i>"{{registeredSchool.name}}"</i></strong>
                            </li>
                        </ul>
                    </div>

                    <h3>Регистрация на клас</h3>
                    <div class="panel panel-default">
                        <div class="panel-body">
                            Полетата маркирани с <span style="color: #039; font-size: 1.3em">*</span> са задължителни!
                        </div>
                    </div>
                    <div class="form-group control-group required">
                        <label for="select" class="col-md-3 control-label">Област:</label>
                        <div class="col-md-7">
                            <select class="form-control" ng-model="school.region" ng-options="region for region in regions">
                                <option value="">Област на училището</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group control-group">
                        <label for="abbreviation" class="col-md-3 control-label">Тип училище:</label>
                        <div class="col-md-7">
                            <select class="form-control" ng-model="school.abbreviation" ng-options="abbreviation for abbreviation in abbreviations">
                                <option value="">Абревиатура на училището</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group control-group required" show-validation>
                        <label for="email" class="col-md-3 control-label">Училищно име:</label>
                        <div class="col-md-7">
                            <input 
                                type="text"
                                name="schoolName"
                                id="schoolName" 
                                class="form-control" 
                                ng-model="school.name" 
                                placeholder="наименование на училището"
                                required>
                                <span class="help-block">без абревиатурата и кавичките</span>
                        </div>
                    </div>
                    
                    <hr>
                    <div class="form-group control-group required" show-validation>
                        <label for="email" class="col-md-3 control-label">E-mail:</label>
                        <div class="col-md-7">
                            <input 
                                type="email"
                                name="schoolCreatorEmail"
                                id="schoolCreatorEmail" 
                                class="form-control" 
                                ng-model="school.creator.email" 
                                placeholder="ел. поща"
                                required>
                                <span class="help-block">Вашият email.</span>
                        </div>
                        <span class="label label-danger" 
                        ng-show="signupErr.reason === 'EMAIL_NOT_UNIQUE'">Email-ът е зает!</span>
                    </div>
                    <div class="form-group control-group required" show-validation>
                        <label for="fname" class="col-md-3 control-label">Име:</label>
                        <div class="col-md-7">
                            <input
                                type="text"
                                name="schoolCreatorFname"
                                id="schoolCreatorFname"
                                class="form-control"
                                ng-model="school.creator.fname"
                                ng-pattern="/^[а-яА-Я -']+$/"
                                placeholder="име"
                                required >
                            <span class="help-block">Вашето име кирилица.</span>
                        </div>
                    </div>
                    <div class="form-group control-group required" show-validation>
                        <label for="lname" class="col-md-3 control-label">Фамилия:</label>
                        <div class="col-md-7">
                            <input 
                                type="text"
                                name="schoolCreatorLname"
                                id="schoolCreatorLname"
                                class="form-control"
                                ng-model="school.creator.lname"
                                ng-pattern="/^[а-яА-Я -']+$/"
                                placeholder="фамилия"
                                required>
                            <span class="help-block">Вашата фамилия на кирилица.</span>
                        </div>
                    </div>
                    <div class="col-md-7 col-md-offset-3">
                        <div class="form-group control-group required" show-validation>
                            <div class="checkbox">
                                <label>
                                    <input type="checkbox"
                                    ng-model="schoolCreatorAggree"
                                    name="schoolCreatorAgree"
                                    id="schoolCreatorAgree" 
                                    required>
                                    Съгласен съм с <a href="#terms-and-conditions" target="_blank">условията за ползване</a>.
                                </label>
                            </div>
                        </div>
                    </div>
                    <button ng-disabled="register.$invalid" ng-click="registerSchool(school)" class="btn btn-primary center-block" style="width: 100%;">Регистрация</button>
            
            </fieldset>
        </form>
        </div>
    </div>
</div>
